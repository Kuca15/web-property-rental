{
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/index.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/index.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/index.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/index.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "index.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nvar _env = require(\"./env\");\n\nvar _db = require(\"./db\");\n\nvar _express = _interopRequireDefault(require(\"express\"));\n\nvar _http = _interopRequireDefault(require(\"http\"));\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _bcryptjs = require(\"bcryptjs\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst app = (0, _express.default)();\n\nconst bodyParser = require(\"body-parser\");\n\napp.use(bodyParser.json());\napp.use(_express.default.static(_path.default.resolve(__dirname, \"../public\"))); // REQUISIÇÕES BÁSICAS\n\napp.get(\"/properties\", async (req, res) => {\n  const filter = null;\n\n  if (filter) {} else {\n    const properties = await (0, _db.getProperties)();\n    res.json(properties);\n  }\n}); // REQUISICOES PARA UM CORRETOR\n// requisição para aprovar login\n\napp.post(\"/login\", async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n\n  if (username && password) {\n    const l = await (0, _db.login)(username, password);\n    res.json(!!l);\n  } else {\n    res.json(\"Problema ao efetuar login.\");\n  }\n}); // requisição para fazer troca de senha\n\napp.post(\"/reset\", async (req, res) => {\n  const {\n    username,\n    password\n  } = req.body;\n\n  if (username && password) {\n    const l = await (0, _db.reset)(username, password);\n    res.json(l);\n  } else {\n    res.json(\"Problema ao atualizar senha.\");\n  }\n}); // requisição para cadastrar imóvel\n\napp.post(\"/property\", async (req, res) => {\n  const {\n    nrInscricao,\n    img,\n    endereco,\n    tipo,\n    nrDormitorios,\n    nrBanheiros,\n    nrVagas,\n    valor\n  } = req.body;\n\n  if (nrInscricao && img && endereco && tipo && nrDormitorios && nrBanheiros && nrVagas && valor) {\n    const p = await (0, _db.addProperty)(nrInscricao, img, endereco, tipo, nrDormitorios, nrBanheiros, nrVagas, valor);\n\n    if (p) {\n      res.json(!!p);\n    } else {\n      res.json(\"Já existe um imóvel com este número de inscrição.\");\n    }\n  } else {\n    res.json(\"Problema ao inserir imóvel.\");\n  }\n}); // requisição para alterar situação de um imóvel\n\napp.post(\"/update\", async (req, res) => {\n  const {\n    nrInscricao,\n    situacao\n  } = req.body;\n\n  if (nrInscricao && situacao) {\n    const item = await (0, _db.updatePropertyState)(nrInscricao, situacao);\n    res.json(item);\n  } else {\n    res.json(\"Problema ao atualizar imóvel.\");\n  }\n}); // REQUISICOES PARA UM INQUILINO\n// requisição para manifestar interesse em um imóvel\n\napp.post(\"/interest\", async (req, res) => {\n  const {\n    nome,\n    telefone,\n    nr_inscricao\n  } = req.body;\n\n  if (nr_inscricao && telefone && nome) {\n    const item = await (0, _db.addInterest)(nr_inscricao, nome, telefone);\n    res.json(item);\n  } else {\n    res.json(\"Problema ao inscrever interesse.\");\n  }\n});\n\nconst server = _http.default.createServer(app);\n\n(0, _db.connect)();\nserver.listen(_env.PORT, () => console.log(`Rodando em ${_env.PORT}`));\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImFwcCIsImJvZHlQYXJzZXIiLCJyZXF1aXJlIiwidXNlIiwianNvbiIsImV4cHJlc3MiLCJzdGF0aWMiLCJwYXRoIiwicmVzb2x2ZSIsIl9fZGlybmFtZSIsImdldCIsInJlcSIsInJlcyIsImZpbHRlciIsInByb3BlcnRpZXMiLCJwb3N0IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImJvZHkiLCJsIiwibnJJbnNjcmljYW8iLCJpbWciLCJlbmRlcmVjbyIsInRpcG8iLCJuckRvcm1pdG9yaW9zIiwibnJCYW5oZWlyb3MiLCJuclZhZ2FzIiwidmFsb3IiLCJwIiwic2l0dWFjYW8iLCJpdGVtIiwibm9tZSIsInRlbGVmb25lIiwibnJfaW5zY3JpY2FvIiwic2VydmVyIiwiaHR0cCIsImNyZWF0ZVNlcnZlciIsImxpc3RlbiIsIlBPUlQiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQUFBOztBQUNBOztBQVNBOztBQUNBOztBQUNBOztBQUNBOzs7O0FBRUEsTUFBTUEsR0FBRyxHQUFHLHVCQUFaOztBQUNBLE1BQU1DLFVBQVUsR0FBR0MsT0FBTyxDQUFDLGFBQUQsQ0FBMUI7O0FBQ0FGLEdBQUcsQ0FBQ0csR0FBSixDQUFRRixVQUFVLENBQUNHLElBQVgsRUFBUjtBQUNBSixHQUFHLENBQUNHLEdBQUosQ0FBUUUsaUJBQVFDLE1BQVIsQ0FBZUMsY0FBS0MsT0FBTCxDQUFhQyxTQUFiLEVBQXdCLFdBQXhCLENBQWYsQ0FBUixFLENBRUE7O0FBQ0FULEdBQUcsQ0FBQ1UsR0FBSixDQUFRLGFBQVIsRUFBdUIsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3pDLFFBQU1DLE1BQU0sR0FBRyxJQUFmOztBQUNBLE1BQUlBLE1BQUosRUFBWSxDQUNYLENBREQsTUFDTztBQUNMLFVBQU1DLFVBQVUsR0FBRyxNQUFNLHdCQUF6QjtBQUNBRixJQUFBQSxHQUFHLENBQUNSLElBQUosQ0FBU1UsVUFBVDtBQUNEO0FB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WixLQUFvQjtBQUN4QyxRQUFNO0FBQUVtQixJQUFBQSxJQUFGO0FBQVFDLElBQUFBLFFBQVI7QUFBa0JDLElBQUFBO0FBQWxCLE1BQW1DdEIsR0FBRyxDQUFDTyxJQUE3Qzs7QUFDQSxNQUFJZSxZQUFZLElBQUlELFFBQWhCLElBQTRCRCxJQUFoQyxFQUFzQztBQUNwQyxVQUFNRCxJQUFJLEdBQUcsTUFBTSxxQkFBWUcsWUFBWixFQUEwQkYsSUFBMUIsRUFBZ0NDLFFBQWhDLENBQW5CO0FBQ0FwQixJQUFBQSxHQUFHLENBQUNSLElBQUosQ0FBUzBCLElBQVQ7QUFDRCxHQUhELE1BR087QUFDTGxCLElBQUFBLEdBQUcsQ0FBQ1IsSUFBSixDQUFTLGtDQUFUO0FBQ0Q7QUFDRixDQVJEOztBQVVBLE1BQU04QixNQUFNLEdBQUdDLGNBQUtDLFlBQUwsQ0FBa0JwQyxHQUFsQixDQUFmOztBQUNBO0FBQ0FrQyxNQUFNLENBQUNHLE1BQVAsQ0FBY0MsU0FBZCxFQUFvQixNQUFNQyxPQUFPLENBQUNDLEdBQVIsQ0FBYSxjQUFhRixTQUFLLEVBQS9CLENBQTFCIiwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm9tb3Nlci9jb21wdXRhY2FvLzIwLjEvd2ViL3RyYWJhbGhvL3dlYi1wcm9wZXJ0eS1yZW50YWwvYmFja2VuZC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUE9SVCB9IGZyb20gXCIuL2VudlwiO1xuaW1wb3J0IHtcbiAgYWRkUHJvcGVydHksXG4gIGNvbm5lY3QsXG4gIGdldFByb3BlcnRpZXMsXG4gIGxvZ2luLFxuICByZXNldCxcbiAgdXBkYXRlUHJvcGVydHlTdGF0ZSxcbiAgYWRkSW50ZXJlc3QsXG59IGZyb20gXCIuL2RiXCI7XG5pbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGh0dHAgZnJvbSBcImh0dHBcIjtcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XG5pbXBvcnQgeyBnZW5TYWx0U3luYywgaGFzaFN5bmMsIGNvbXBhcmVTeW5jIH0gZnJvbSBcImJjcnlwdGpzXCI7XG5cbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMocGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgXCIuLi9wdWJsaWNcIikpKTtcblxuLy8gUkVRVUlTScOHw5VFUyBCw4FTSUNBU1xuYXBwLmdldChcIi9wcm9wZXJ0aWVzXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBmaWx0ZXIgPSBudWxsO1xuICBpZiAoZmlsdGVyKSB7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgcHJvcGVydGllcyA9IGF3YWl0IGdldFByb3BlcnRpZXMoKTtcbiAgICByZXMuanNvbihwcm9wZXJ0aWVzKTtcbiAgfVxufSk7XG5cbi8vIFJFUVVJU0lDT0VTIFBBUkEgVU0gQ09SUkVUT1Jcbi8vIHJlcXVpc2nDp8OjbyBwYXJhIGFwcm92YXIgbG9naW5cbmFwcC5wb3N0KFwiL2xvZ2luXCIsIGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCB7IHVzZXJuYW1lLCBwYXNzd29yZCB9ID0gcmVxLmJvZHk7XG4gIGlmICh1c2VybmFtZSAmJiBwYXNzd29yZCkge1xuICAgIGNvbnN0IGwgPSBhd2FpdCBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpO1xuICAgIHJlcy5qc29uKCEhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzLmpzb24oXCJQcm9ibGVtYSBhbyBlZmV0dWFyIGxvZ2luLlwiKTtcbiAgfVxufSk7XG5cbi8vIHJlcXVpc2nDp8OjbyBwYXJhIGZhemVyIHRyb2NhIGRlIHNlbmhhXG5hcHAucG9zdChcIi9yZXNldFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyB1c2VybmFtZSwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICBpZiAodXNlcm5hbWUgJiYgcGFzc3dvcmQpIHtcbiAgICBjb25zdCBsID0gYXdhaXQgcmVzZXQodXNlcm5hbWUsIHBhc3N3b3JkKTtcbiAgICByZXMuanNvbihsKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuanNvbihcIlByb2JsZW1hIGFvIGF0dWFsaXphciBzZW5oYS5cIik7XG4gIH1cbn0pO1xuXG4vLyByZXF1aXNpw6fDo28gcGFyYSBjYWRhc3RyYXIgaW3Ds3ZlbFxuYXBwLnBvc3QoXCIvcHJvcGVydHlcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHtcbiAgICBuckluc2NyaWNhbyxcbiAgICBpbWcsXG4gICAgZW5kZXJlY28sXG4gICAgdGlwbyxcbiAgICBuckRvcm1pdG9yaW9zLFxuICAgIG5yQmFuaGVpcm9zLFxuICAgIG5yVmFnYXMsXG4gICAgdmFsb3IsXG4gIH0gPSByZXEuYm9keTtcbiAgaWYgKFxuICAgIG5ySW5zY3JpY2FvICYmXG4gICAgaW1nICYmXG4gICAgZW5kZXJlY28gJiZcbiAgICB0aXBvICYmXG4gICAgbnJEb3JtaXRvcmlvcyAmJlxuICAgIG5yQmFuaGVpcm9zICYmXG4gICAgbnJWYWdhcyAmJlxuICAgIHZhbG9yXG4gICkge1xuICAgIGNvbnN0IHAgPSBhd2FpdCBhZGRQcm9wZXJ0eShcbiAgICAgIG5ySW5zY3JpY2FvLFxuICAgICAgaW1nLFxuICAgICAgZW5kZXJlY28sXG4gICAgICB0aXBvLFxuICAgICAgbnJEb3JtaXRvcmlvcyxcbiAgICAgIG5yQmFuaGVpcm9zLFxuICAgICAgbnJWYWdhcyxcbiAgICAgIHZhbG9yXG4gICAgKTtcbiAgICBpZiAocCkge1xuICAgICAgcmVzLmpzb24oISFwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLmpzb24oXCJKw6EgZXhpc3RlIHVtIGltw7N2ZWwgY29tIGVzdGUgbsO6bWVybyBkZSBpbnNjcmnDp8Ojby5cIik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcy5qc29uKFwiUHJvYmxlbWEgYW8gaW5zZXJpciBpbcOzdmVsLlwiKTtcbiAgfVxufSk7XG5cbi8vIHJlcXVpc2nDp8OjbyBwYXJhIGFsdGVyYXIgc2l0dWHDp8OjbyBkZSB1bSBpbcOzdmVsXG5hcHAucG9zdChcIi91cGRhdGVcIiwgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHsgbnJJbnNjcmljYW8sIHNpdHVhY2FvIH0gPSByZXEuYm9keTtcbiAgaWYgKG5ySW5zY3JpY2FvICYmIHNpdHVhY2FvKSB7XG4gICAgY29uc3QgaXRlbSA9IGF3YWl0IHVwZGF0ZVByb3BlcnR5U3RhdGUobnJJbnNjcmljYW8sIHNpdHVhY2FvKTtcbiAgICByZXMuanNvbihpdGVtKTtcbiAgfSBlbHNlIHtcbiAgICByZXMuanNvbihcIlByb2JsZW1hIGFvIGF0dWFsaXphciBpbcOzdmVsLlwiKTtcbiAgfVxufSk7XG5cbi8vIFJFUVVJU0lDT0VTIFBBUkEgVU0gSU5RVUlMSU5PXG4vLyByZXF1aXNpw6fDo28gcGFyYSBtYW5pZmVzdGFyIGludGVyZXNzZSBlbSB1bSBpbcOzdmVsXG5hcHAucG9zdChcIi9pbnRlcmVzdFwiLCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgeyBub21lLCB0ZWxlZm9uZSwgbnJfaW5zY3JpY2FvIH0gPSByZXEuYm9keTtcbiAgaWYgKG5yX2luc2NyaWNhbyAmJiB0ZWxlZm9uZSAmJiBub21lKSB7XG4gICAgY29uc3QgaXRlbSA9IGF3YWl0IGFkZEludGVyZXN0KG5yX2luc2NyaWNhbywgbm9tZSwgdGVsZWZvbmUpO1xuICAgIHJlcy5qc29uKGl0ZW0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5qc29uKFwiUHJvYmxlbWEgYW8gaW5zY3JldmVyIGludGVyZXNzZS5cIik7XG4gIH1cbn0pO1xuXG5jb25zdCBzZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcihhcHApO1xuY29ubmVjdCgpO1xuc2VydmVyLmxpc3RlbihQT1JULCAoKSA9PiBjb25zb2xlLmxvZyhgUm9kYW5kbyBlbSAke1BPUlR9YCkpO1xuIl19",
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "app",
        "bodyParser",
        "require",
        "use",
        "json",
        "express",
        "static",
        "path",
        "resolve",
        "__dirname",
        "get",
        "req",
        "res",
        "filter",
        "properties",
        "post",
        "username",
        "password",
        "body",
        "l",
        "nrInscricao",
        "img",
        "endereco",
        "tipo",
        "nrDormitorios",
        "nrBanheiros",
        "nrVagas",
        "valor",
        "p",
        "situacao",
        "item",
        "nome",
        "telefone",
        "nr_inscricao",
        "server",
        "http",
        "createServer",
        "listen",
        "PORT",
        "console",
        "log"
      ],
      "mappings": "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",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "import { PORT } from \"./env\";\nimport {\n  addProperty,\n  connect,\n  getProperties,\n  login,\n  reset,\n  updatePropertyState,\n  addInterest,\n} from \"./db\";\nimport express from \"express\";\nimport http from \"http\";\nimport path from \"path\";\nimport { genSaltSync, hashSync, compareSync } from \"bcryptjs\";\n\nconst app = express();\nconst bodyParser = require(\"body-parser\");\napp.use(bodyParser.json());\napp.use(express.static(path.resolve(__dirname, \"../public\")));\n\n// REQUISIÇÕES BÁSICAS\napp.get(\"/properties\", async (req, res) => {\n  const filter = null;\n  if (filter) {\n  } else {\n    const properties = await getProperties();\n    res.json(properties);\n  }\n});\n\n// REQUISICOES PARA UM CORRETOR\n// requisição para aprovar login\napp.post(\"/login\", async (req, res) => {\n  const { username, password } = req.body;\n  if (username && password) {\n    const l = await login(username, password);\n    res.json(!!l);\n  } else {\n    res.json(\"Problema ao efetuar login.\");\n  }\n});\n\n// requisição para fazer troca de senha\napp.post(\"/reset\", async (req, res) => {\n  const { username, password } = req.body;\n  if (username && password) {\n    const l = await reset(username, password);\n    res.json(l);\n  } else {\n    res.json(\"Problema ao atualizar senha.\");\n  }\n});\n\n// requisição para cadastrar imóvel\napp.post(\"/property\", async (req, res) => {\n  const {\n    nrInscricao,\n    img,\n    endereco,\n    tipo,\n    nrDormitorios,\n    nrBanheiros,\n    nrVagas,\n    valor,\n  } = req.body;\n  if (\n    nrInscricao &&\n    img &&\n    endereco &&\n    tipo &&\n    nrDormitorios &&\n    nrBanheiros &&\n    nrVagas &&\n    valor\n  ) {\n    const p = await addProperty(\n      nrInscricao,\n      img,\n      endereco,\n      tipo,\n      nrDormitorios,\n      nrBanheiros,\n      nrVagas,\n      valor\n    );\n    if (p) {\n      res.json(!!p);\n    } else {\n      res.json(\"Já existe um imóvel com este número de inscrição.\");\n    }\n  } else {\n    res.json(\"Problema ao inserir imóvel.\");\n  }\n});\n\n// requisição para alterar situação de um imóvel\napp.post(\"/update\", async (req, res) => {\n  const { nrInscricao, situacao } = req.body;\n  if (nrInscricao && situacao) {\n    const item = await updatePropertyState(nrInscricao, situacao);\n    res.json(item);\n  } else {\n    res.json(\"Problema ao atualizar imóvel.\");\n  }\n});\n\n// REQUISICOES PARA UM INQUILINO\n// requisição para manifestar interesse em um imóvel\napp.post(\"/interest\", async (req, res) => {\n  const { nome, telefone, nr_inscricao } = req.body;\n  if (nr_inscricao && telefone && nome) {\n    const item = await addInterest(nr_inscricao, nome, telefone);\n    res.json(item);\n  } else {\n    res.json(\"Problema ao inscrever interesse.\");\n  }\n});\n\nconst server = http.createServer(app);\nconnect();\nserver.listen(PORT, () => console.log(`Rodando em ${PORT}`));\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607207847820
  },
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "env.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MONGO_URL = exports.PORT = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-console */\nconst env = _path.default.join(__dirname, \"../.env\");\n\n_dotenv.default.config({\n  path: env\n});\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\nconst PORT = parseInt(process.env.PORT);\nexports.PORT = PORT;\nconst MONGO_URL = process.env.MONGO_URL;\nexports.MONGO_URL = MONGO_URL;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudi5qcyJdLCJuYW1lcyI6WyJlbnYiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImRvdGVudiIsImNvbmZpZyIsImVycm9yIiwicHJvY2VzcyIsIlBPUlQiLCJjb25zb2xlIiwibG9nIiwiTU9OR09fVVJMIiwiZXhpdCIsInBhcnNlSW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7QUFGQTtBQUlBLE1BQU1BLEdBQUcsR0FBR0MsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFNBQXJCLENBQVo7O0FBQ0FDLGdCQUFPQyxNQUFQLENBQWM7QUFBRUosRUFBQUEsSUFBSSxFQUFFRDtBQUFSLENBQWQ7O0FBRUEsSUFBSU0sS0FBSyxHQUFHLEtBQVo7O0FBRUEsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVEsSUFBakIsRUFBdUI7QUFDckJDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRUQsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVcsU0FBakIsRUFBNEI7QUFDMUJGLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDZDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRURBLEtBQUssSUFBSUMsT0FBTyxDQUFDSyxJQUFSLENBQWEsQ0FBYixDQUFUO0FBRUEsTUFBTUosSUFBSSxHQUFHSyxRQUFRLENBQUNOLE9BQU8sQ0FBQ1AsR0FBUixDQUFZUSxJQUFiLENBQXJCOztBQUNBLE1BQU1HLFNBQVMsR0FBR0osT0FBTyxDQUFDUCxHQUFSLENBQVlXLFNBQTlCIiwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm9tb3Nlci9jb21wdXRhY2FvLzIwLjEvd2ViL3RyYWJhbGhvL3dlYi1wcm9wZXJ0eS1yZW50YWwvYmFja2VuZC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuXG5jb25zdCBlbnYgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCBcIi4uLy5lbnZcIik7XG5kb3RlbnYuY29uZmlnKHsgcGF0aDogZW52IH0pO1xuXG5sZXQgZXJyb3IgPSBmYWxzZTtcblxuaWYgKCFwcm9jZXNzLmVudi5QT1JUKSB7XG4gIGNvbnNvbGUubG9nKFwiRGVmaW5hIGEgdmFyacOhdmVsIFBPUlQgZW0gYmFja2VuZC8uZW52IFxcblwiKTtcbiAgZXJyb3IgPSB0cnVlO1xufVxuXG5pZiAoIXByb2Nlc3MuZW52Lk1PTkdPX1VSTCkge1xuICBjb25zb2xlLmxvZyhcIkRlZmluYSBhIHZhcmnDoXZlbCBNT05HT19VUkwgZW0gYmFja2VuZC8uZW52XCIpO1xuICBlcnJvciA9IHRydWU7XG59XG5cbmVycm9yICYmIHByb2Nlc3MuZXhpdCgxKTtcblxuY29uc3QgUE9SVCA9IHBhcnNlSW50KHByb2Nlc3MuZW52LlBPUlQpO1xuY29uc3QgTU9OR09fVVJMID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJMO1xuZXhwb3J0IHsgUE9SVCwgTU9OR09fVVJMIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "env.js"
      ],
      "names": [
        "env",
        "path",
        "join",
        "__dirname",
        "dotenv",
        "config",
        "error",
        "process",
        "PORT",
        "console",
        "log",
        "MONGO_URL",
        "exit",
        "parseInt"
      ],
      "mappings": ";;;;;;;AACA;;AACA;;;;AAFA;AAIA,MAAMA,GAAG,GAAGC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,SAArB,CAAZ;;AACAC,gBAAOC,MAAP,CAAc;AAAEJ,EAAAA,IAAI,EAAED;AAAR,CAAd;;AAEA,IAAIM,KAAK,GAAG,KAAZ;;AAEA,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYQ,IAAjB,EAAuB;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAED,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYW,SAAjB,EAA4B;AAC1BF,EAAAA,OAAO,CAACC,GAAR,CAAY,6CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAEDA,KAAK,IAAIC,OAAO,CAACK,IAAR,CAAa,CAAb,CAAT;AAEA,MAAMJ,IAAI,GAAGK,QAAQ,CAACN,OAAO,CAACP,GAAR,CAAYQ,IAAb,CAArB;;AACA,MAAMG,SAAS,GAAGJ,OAAO,CAACP,GAAR,CAAYW,SAA9B",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "/* eslint-disable no-console */\nimport path from \"path\";\nimport dotenv from \"dotenv\";\n\nconst env = path.join(__dirname, \"../.env\");\ndotenv.config({ path: env });\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\n\nconst PORT = parseInt(process.env.PORT);\nconst MONGO_URL = process.env.MONGO_URL;\nexport { PORT, MONGO_URL };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607207362946
  },
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/env.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "env.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MONGO_URL = exports.PORT = void 0;\n\nvar _path = _interopRequireDefault(require(\"path\"));\n\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-console */\nconst env = _path.default.join(__dirname, \"../.env\");\n\n_dotenv.default.config({\n  path: env\n});\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\nconst PORT = parseInt(process.env.PORT);\nexports.PORT = PORT;\nconst MONGO_URL = process.env.MONGO_URL;\nexports.MONGO_URL = MONGO_URL;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVudi5qcyJdLCJuYW1lcyI6WyJlbnYiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsImRvdGVudiIsImNvbmZpZyIsImVycm9yIiwicHJvY2VzcyIsIlBPUlQiLCJjb25zb2xlIiwibG9nIiwiTU9OR09fVVJMIiwiZXhpdCIsInBhcnNlSW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7O0FBQ0E7Ozs7QUFGQTtBQUlBLE1BQU1BLEdBQUcsR0FBR0MsY0FBS0MsSUFBTCxDQUFVQyxTQUFWLEVBQXFCLFNBQXJCLENBQVo7O0FBQ0FDLGdCQUFPQyxNQUFQLENBQWM7QUFBRUosRUFBQUEsSUFBSSxFQUFFRDtBQUFSLENBQWQ7O0FBRUEsSUFBSU0sS0FBSyxHQUFHLEtBQVo7O0FBRUEsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVEsSUFBakIsRUFBdUI7QUFDckJDLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDJDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRUQsSUFBSSxDQUFDQyxPQUFPLENBQUNQLEdBQVIsQ0FBWVcsU0FBakIsRUFBNEI7QUFDMUJGLEVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDZDQUFaO0FBQ0FKLEVBQUFBLEtBQUssR0FBRyxJQUFSO0FBQ0Q7O0FBRURBLEtBQUssSUFBSUMsT0FBTyxDQUFDSyxJQUFSLENBQWEsQ0FBYixDQUFUO0FBRUEsTUFBTUosSUFBSSxHQUFHSyxRQUFRLENBQUNOLE9BQU8sQ0FBQ1AsR0FBUixDQUFZUSxJQUFiLENBQXJCOztBQUNBLE1BQU1HLFNBQVMsR0FBR0osT0FBTyxDQUFDUCxHQUFSLENBQVlXLFNBQTlCIiwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm9tb3Nlci9jb21wdXRhY2FvLzIwLjEvd2ViL3RyYWJhbGhvL3dlYi1wcm9wZXJ0eS1yZW50YWwvYmFja2VuZC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tY29uc29sZSAqL1xuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIjtcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiO1xuXG5jb25zdCBlbnYgPSBwYXRoLmpvaW4oX19kaXJuYW1lLCBcIi4uLy5lbnZcIik7XG5kb3RlbnYuY29uZmlnKHsgcGF0aDogZW52IH0pO1xuXG5sZXQgZXJyb3IgPSBmYWxzZTtcblxuaWYgKCFwcm9jZXNzLmVudi5QT1JUKSB7XG4gIGNvbnNvbGUubG9nKFwiRGVmaW5hIGEgdmFyacOhdmVsIFBPUlQgZW0gYmFja2VuZC8uZW52IFxcblwiKTtcbiAgZXJyb3IgPSB0cnVlO1xufVxuXG5pZiAoIXByb2Nlc3MuZW52Lk1PTkdPX1VSTCkge1xuICBjb25zb2xlLmxvZyhcIkRlZmluYSBhIHZhcmnDoXZlbCBNT05HT19VUkwgZW0gYmFja2VuZC8uZW52XCIpO1xuICBlcnJvciA9IHRydWU7XG59XG5cbmVycm9yICYmIHByb2Nlc3MuZXhpdCgxKTtcblxuY29uc3QgUE9SVCA9IHBhcnNlSW50KHByb2Nlc3MuZW52LlBPUlQpO1xuY29uc3QgTU9OR09fVVJMID0gcHJvY2Vzcy5lbnYuTU9OR09fVVJMO1xuZXhwb3J0IHsgUE9SVCwgTU9OR09fVVJMIH07XG4iXX0=",
    "map": {
      "version": 3,
      "sources": [
        "env.js"
      ],
      "names": [
        "env",
        "path",
        "join",
        "__dirname",
        "dotenv",
        "config",
        "error",
        "process",
        "PORT",
        "console",
        "log",
        "MONGO_URL",
        "exit",
        "parseInt"
      ],
      "mappings": ";;;;;;;AACA;;AACA;;;;AAFA;AAIA,MAAMA,GAAG,GAAGC,cAAKC,IAAL,CAAUC,SAAV,EAAqB,SAArB,CAAZ;;AACAC,gBAAOC,MAAP,CAAc;AAAEJ,EAAAA,IAAI,EAAED;AAAR,CAAd;;AAEA,IAAIM,KAAK,GAAG,KAAZ;;AAEA,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYQ,IAAjB,EAAuB;AACrBC,EAAAA,OAAO,CAACC,GAAR,CAAY,2CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAED,IAAI,CAACC,OAAO,CAACP,GAAR,CAAYW,SAAjB,EAA4B;AAC1BF,EAAAA,OAAO,CAACC,GAAR,CAAY,6CAAZ;AACAJ,EAAAA,KAAK,GAAG,IAAR;AACD;;AAEDA,KAAK,IAAIC,OAAO,CAACK,IAAR,CAAa,CAAb,CAAT;AAEA,MAAMJ,IAAI,GAAGK,QAAQ,CAACN,OAAO,CAACP,GAAR,CAAYQ,IAAb,CAArB;;AACA,MAAMG,SAAS,GAAGJ,OAAO,CAACP,GAAR,CAAYW,SAA9B",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "/* eslint-disable no-console */\nimport path from \"path\";\nimport dotenv from \"dotenv\";\n\nconst env = path.join(__dirname, \"../.env\");\ndotenv.config({ path: env });\n\nlet error = false;\n\nif (!process.env.PORT) {\n  console.log(\"Defina a variável PORT em backend/.env \\n\");\n  error = true;\n}\n\nif (!process.env.MONGO_URL) {\n  console.log(\"Defina a variável MONGO_URL em backend/.env\");\n  error = true;\n}\n\nerror && process.exit(1);\n\nconst PORT = parseInt(process.env.PORT);\nconst MONGO_URL = process.env.MONGO_URL;\nexport { PORT, MONGO_URL };\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607207362946
  },
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = connect;\nexports.login = login;\nexports.reset = reset;\nexports.getProperties = getProperties;\nexports.getPropertyByInscricao = getPropertyByInscricao;\nexports.updatePropertyState = updatePropertyState;\nexports.addProperty = addProperty;\nexports.addInterest = addInterest;\n\nvar _env = require(\"./env\");\n\nvar _mongodb = require(\"mongodb\");\n\nlet driver = new _mongodb.MongoClient(_env.MONGO_URL, {\n  useUnifiedTopology: true\n});\n\nasync function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nasync function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username: username,\n    password: password\n  };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nasync function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username: username\n  };\n  const toUpdate = {\n    $set: {\n      password: newPassword\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nasync function getPropertyByInscricao(nrInscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.find({\n    nr_inscricao: nrInscricao\n  });\n  return !!property;\n}\n\nasync function updatePropertyState(nrInscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = {\n    nr_inscricao: nrInscricao\n  };\n  const toUpdate = {\n    $set: {\n      situacao: situacao\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function addProperty(nrInscricao, img, endereco, tipo, nrDormitorios, nrBanheiros, nrVagas, valor) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n\n  if (!!getProperty(nrInscricao)) {\n    insert = collection.insertOne({\n      nr_inscricao: nrInscricao,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: nrDormitorios,\n      nr_banheiros: nrBanheiros,\n      nr_vagas_garagem: nrVagas,\n      valor\n    });\n  }\n\n  return insert;\n}\n\nasync function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = collection.find({\n      nome,\n      telefone\n    });\n\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = collection.insertOne({\n        nr_inscricao,\n        nome: nome,\n        telefone: telefone\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbImRyaXZlciIsIk1vbmdvQ2xpZW50IiwiTU9OR09fVVJMIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdCIsImVyciIsImNvbm4iLCJjb25zb2xlIiwibG9nIiwiZGIiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJjb2xsZWN0aW9uIiwicXVlcnkiLCJ1c2VyIiwiZmluZE9uZSIsInJlc2V0IiwibmV3UGFzc3dvcmQiLCJ0b1VwZGF0ZSIsIiRzZXQiLCJ1cGRhdGVkIiwidXBkYXRlT25lIiwiZ2V0UHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJmaW5kIiwidG9BcnJheSIsImdldFByb3BlcnR5QnlJbnNjcmljYW8iLCJuckluc2NyaWNhbyIsInByb3BlcnR5IiwibnJfaW5zY3JpY2FvIiwidXBkYXRlUHJvcGVydHlTdGF0ZSIsInNpdHVhY2FvIiwiYWRkUHJvcGVydHkiLCJpbWciLCJlbmRlcmVjbyIsInRpcG8iLCJuckRvcm1pdG9yaW9zIiwibnJCYW5oZWlyb3MiLCJuclZhZ2FzIiwidmFsb3IiLCJpbnNlcnQiLCJnZXRQcm9wZXJ0eSIsImluc2VydE9uZSIsIm5yX2Rvcm1pdG9yaW9zIiwibnJfYmFuaGVpcm9zIiwibnJfdmFnYXNfZ2FyYWdlbSIsImFkZEludGVyZXN0Iiwibm9tZSIsInRlbGVmb25lIiwibGVuZ3RoIiwiaXRlbSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQSxJQUFJQSxNQUFNLEdBQUcsSUFBSUMsb0JBQUosQ0FBZ0JDLGNBQWhCLEVBQTJCO0FBQUVDLEVBQUFBLGtCQUFrQixFQUFFO0FBQXRCLENBQTNCLENBQWI7O0FBRU8sZUFBZUMsT0FBZixHQUF5QjtBQUM5QkosRUFBQUEsTUFBTSxDQUFDSSxPQUFQLENBQWUsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEtBQWU7QUFDNUIsUUFBSUQsR0FBSixFQUFTO0FBQ1BFLE1BQUFBLE9BQU8sQ0FBQ0MsR0FB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QUFLNUJRLE1BQUFBLGNBQWMsRUFBRVAsYUFMWTtBQU01QlEsTUFBQUEsWUFBWSxFQUFFUCxXQU5jO0FBTzVCUSxNQUFBQSxnQkFBZ0IsRUFBRVAsT0FQVTtBQVE1QkMsTUFBQUE7QUFSNEIsS0FBckIsQ0FBVDtBQVVEOztBQUNELFNBQU9DLE1BQVA7QUFDRDs7QUFFTSxlQUFlTSxXQUFmLENBQTJCakIsWUFBM0IsRUFBeUNrQixJQUF6QyxFQUErQ0MsUUFBL0MsRUFBeUQ7QUFDOUQsUUFBTXBCLFFBQVEsR0FBRyxNQUFNRixzQkFBc0IsQ0FBQ0csWUFBRCxDQUE3Qzs7QUFDQSxNQUFJRCxRQUFKLEVBQWM7QUFDWixVQUFNaEIsVUFBVSxHQUFHYixNQUFNLENBQUNhLFVBQVAsQ0FBa0IsVUFBbEIsQ0FBbkI7QUFDQSxVQUFNcUMsTUFBTSxHQUFHckMsVUFBVSxDQUFDWSxJQUFYLENBQWdCO0FBQUV1QixNQUFBQSxJQUFGO0FBQVFDLE1BQUFBO0FBQVIsS0FBaEIsQ0FBZjs7QUFDQSxRQUFJQyxNQUFNLEdBQUcsQ0FBYixFQUFnQjtBQUNkLGFBQU8sMkRBQVA7QUFDRCxLQUZELE1BRU87QUFDTCxZQUFNQyxJQUFJLEdBQUd0QyxVQUFVLENBQUM4QixTQUFYLENBQXFCO0FBQ2hDYixRQUFBQSxZQURnQztBQUVoQ2tCLFFBQUFBLElBQUksRUFBRUEsSUFGMEI7QUFHaENDLFFBQUFBLFFBQVEsRUFBRUE7QUFIc0IsT0FBckIsQ0FBYjtBQUtBLGFBQU9FLElBQVA7QUFDRDtBQUNGLEdBYkQsTUFhTztBQUNMLFdBQU8seUJBQVA7QUFDRDtBQUNGIiwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm9tb3Nlci9jb21wdXRhY2FvLzIwLjEvd2ViL3RyYWJhbGhvL3dlYi1wcm9wZXJ0eS1yZW50YWwvYmFja2VuZC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTU9OR09fVVJMIH0gZnJvbSBcIi4vZW52XCI7XG5pbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gXCJtb25nb2RiXCI7XG5sZXQgZHJpdmVyID0gbmV3IE1vbmdvQ2xpZW50KE1PTkdPX1VSTCwgeyB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0KCkge1xuICBkcml2ZXIuY29ubmVjdCgoZXJyLCBjb25uKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9XG4gICAgZHJpdmVyID0gY29ubi5kYihcIldFQl9QUk9QRVJUWV9SRU5UQUxcIik7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBkcml2ZXIuY29sbGVjdGlvbihcInVzZXJcIik7XG4gIGNvbnN0IHF1ZXJ5ID0geyB1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZCB9O1xuICBjb25zdCB1c2VyID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lKHF1ZXJ5KTtcbiAgcmV0dXJuIHVzZXI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNldCh1c2VybmFtZSwgbmV3UGFzc3dvcmQpIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwidXNlclwiKTtcbiAgY29uc3QgcXVlcnkgPSB7IHVzZXJuYW1lOiB1c2VybmFtZSB9O1xuICBjb25zdCB0b1VwZGF0ZSA9IHtcbiAgICAkc2V0OiB7IHBhc3N3b3JkOiBuZXdQYXNzd29yZCB9LFxuICB9O1xuICBjb25zdCB1cGRhdGVkID0gYXdhaXQgY29sbGVjdGlvbi51cGRhdGVPbmUocXVlcnksIHRvVXBkYXRlKTtcbiAgcmV0dXJuIHVwZGF0ZWQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9wZXJ0aWVzKCkge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcbiAgY29uc3QgcHJvcGVydGllcyA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZCgpLnRvQXJyYXkoKTtcbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9wZXJ0eUJ5SW5zY3JpY2FvKG5ySW5zY3JpY2FvKSB7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBkcml2ZXIuY29sbGVjdGlvbihcInByb3BlcnR5XCIpO1xuICBjb25zdCBwcm9wZXJ0eSA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZCh7IG5yX2luc2NyaWNhbzogbnJJbnNjcmljYW8gfSk7XG4gIHJldHVybiAhIXByb3BlcnR5O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJvcGVydHlTdGF0ZShuckluc2NyaWNhbywgc2l0dWFjYW8pIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwicHJvcGVydHlcIik7XG4gIGNvbnN0IHF1ZXJ5ID0geyBucl9pbnNjcmljYW86IG5ySW5zY3JpY2FvIH07XG4gIGNvbnN0IHRvVXBkYXRlID0ge1xuICAgICRzZXQ6IHsgc2l0dWFjYW86IHNpdHVhY2FvIH0sXG4gIH07XG4gIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBjb2xsZWN0aW9uLnVwZGF0ZU9uZShxdWVyeSwgdG9VcGRhdGUpO1xuICByZXR1cm4gdXBkYXRlZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZFByb3BlcnR5KFxuICBuckluc2NyaWNhbyxcbiAgaW1nLFxuICBlbmRlcmVjbyxcbiAgdGlwbyxcbiAgbnJEb3JtaXRvcmlvcyxcbiAgbnJCYW5oZWlyb3MsXG4gIG5yVmFnYXMsXG4gIHZhbG9yXG4pIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwicHJvcGVydHlcIik7XG4gIGxldCBpbnNlcnQgPSBudWxsO1xuICBpZiAoISFnZXRQcm9wZXJ0eShuckluc2NyaWNhbykpIHtcbiAgICBpbnNlcnQgPSBjb2xsZWN0aW9uLmluc2VydE9uZSh7XG4gICAgICBucl9pbnNjcmljYW86IG5ySW5zY3JpY2FvLFxuICAgICAgaW1nLFxuICAgICAgZW5kZXJlY28sXG4gICAgICB0aXBvLFxuICAgICAgbnJfZG9ybWl0b3Jpb3M6IG5yRG9ybWl0b3Jpb3MsXG4gICAgICBucl9iYW5oZWlyb3M6IG5yQmFuaGVpcm9zLFxuICAgICAgbnJfdmFnYXNfZ2FyYWdlbTogbnJWYWdhcyxcbiAgICAgIHZhbG9yLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBpbnNlcnQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRJbnRlcmVzdChucl9pbnNjcmljYW8sIG5vbWUsIHRlbGVmb25lKSB7XG4gIGNvbnN0IHByb3BlcnR5ID0gYXdhaXQgZ2V0UHJvcGVydHlCeUluc2NyaWNhbyhucl9pbnNjcmljYW8pO1xuICBpZiAocHJvcGVydHkpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJpbnRlcmVzdFwiKTtcbiAgICBjb25zdCBsZW5ndGggPSBjb2xsZWN0aW9uLmZpbmQoeyBub21lLCB0ZWxlZm9uZSB9KTtcbiAgICBpZiAobGVuZ3RoID4gMykge1xuICAgICAgcmV0dXJuIFwiVm9jw6ogYXRpbmdpdSBvIG7Dum1lcm8gbcOheGltbyBkZSByZXF1aXNpw6fDtWVzIGRlIGludGVyZXNzZS5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaXRlbSA9IGNvbGxlY3Rpb24uaW5zZXJ0T25lKHtcbiAgICAgICAgbnJfaW5zY3JpY2FvLFxuICAgICAgICBub21lOiBub21lLFxuICAgICAgICB0ZWxlZm9uZTogdGVsZWZvbmUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJFc3RlIGltw7N2ZWwgbsOjbyBleGlzdGUuXCI7XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "driver",
        "MongoClient",
        "MONGO_URL",
        "useUnifiedTopology",
        "connect",
        "err",
        "conn",
        "console",
        "log",
        "db",
        "login",
        "username",
        "password",
        "collection",
        "query",
        "user",
        "findOne",
        "reset",
        "newPassword",
        "toUpdate",
        "$set",
        "updated",
        "updateOne",
        "getProperties",
        "properties",
        "find",
        "toArray",
        "getPropertyByInscricao",
        "nrInscricao",
        "property",
        "nr_inscricao",
        "updatePropertyState",
        "situacao",
        "addProperty",
        "img",
        "endereco",
        "tipo",
        "nrDormitorios",
        "nrBanheiros",
        "nrVagas",
        "valor",
        "insert",
        "getProperty",
        "insertOne",
        "nr_dormitorios",
        "nr_banheiros",
        "nr_vagas_garagem",
        "addInterest",
        "nome",
        "telefone",
        "length",
        "item"
      ],
      "mappings": "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",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "import { MONGO_URL } from \"./env\";\nimport { MongoClient } from \"mongodb\";\nlet driver = new MongoClient(MONGO_URL, { useUnifiedTopology: true });\n\nexport async function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nexport async function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = { username: username, password: password };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nexport async function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = { username: username };\n  const toUpdate = {\n    $set: { password: newPassword },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nexport async function getPropertyByInscricao(nrInscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.find({ nr_inscricao: nrInscricao });\n  return !!property;\n}\n\nexport async function updatePropertyState(nrInscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = { nr_inscricao: nrInscricao };\n  const toUpdate = {\n    $set: { situacao: situacao },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function addProperty(\n  nrInscricao,\n  img,\n  endereco,\n  tipo,\n  nrDormitorios,\n  nrBanheiros,\n  nrVagas,\n  valor\n) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n  if (!!getProperty(nrInscricao)) {\n    insert = collection.insertOne({\n      nr_inscricao: nrInscricao,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: nrDormitorios,\n      nr_banheiros: nrBanheiros,\n      nr_vagas_garagem: nrVagas,\n      valor,\n    });\n  }\n  return insert;\n}\n\nexport async function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = collection.find({ nome, telefone });\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = collection.insertOne({\n        nr_inscricao,\n        nome: nome,\n        telefone: telefone,\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607207830500
  },
  "{\"sourceRoot\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"filename\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js\",\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend\",\"plugins\":[{\"key\":\"syntax-numeric-separator\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-json-strings\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-optional-catch-binding\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-async-generators\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"syntax-object-rest-spread\",\"visitor\":{},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"loose\":false,\"useBuiltIns\":false}}],\"presets\":[]}:7.12.9": {
    "metadata": {},
    "options": {
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "caller": {
        "name": "@babel/node"
      },
      "cwd": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
      "cloneInputAst": true,
      "babelrc": false,
      "configFile": false,
      "envName": "development",
      "root": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend",
      "sourceMaps": "both",
      "ast": false,
      "passPerPreset": false,
      "plugins": [
        {
          "key": "syntax-numeric-separator",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-logical-assignment-operators",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "AssignmentExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-nullish-coalescing-operator",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "LogicalExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-optional-chaining",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "OptionalCallExpression": {
              "enter": [
                null
              ]
            },
            "OptionalMemberExpression": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-json-strings",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-optional-catch-binding",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-async-generators",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "syntax-object-rest-spread",
          "visitor": {
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-export-namespace-from",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "ExportNamedDeclaration": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "transform-modules-commonjs",
          "visitor": {
            "CallExpression": {
              "enter": [
                null
              ]
            },
            "Program": {
              "exit": [
                null
              ]
            },
            "_exploded": true,
            "_verified": true
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        },
        {
          "key": "proposal-dynamic-import",
          "visitor": {
            "_exploded": {},
            "_verified": {},
            "Program": {
              "enter": [
                null
              ]
            }
          },
          "options": {
            "spec": false,
            "loose": false,
            "useBuiltIns": false
          }
        }
      ],
      "presets": [],
      "parserOpts": {
        "sourceType": "module",
        "sourceFileName": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
        "plugins": [
          "numericSeparator",
          "logicalAssignment",
          "nullishCoalescingOperator",
          "optionalChaining",
          "jsonStrings",
          "optionalCatchBinding",
          "asyncGenerators",
          "objectRestSpread",
          "exportNamespaceFrom",
          "dynamicImport"
        ]
      },
      "generatorOpts": {
        "filename": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/db.js",
        "comments": true,
        "compact": "auto",
        "sourceMaps": "both",
        "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
        "sourceFileName": "db.js"
      }
    },
    "ast": null,
    "code": "\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = connect;\nexports.login = login;\nexports.reset = reset;\nexports.getProperties = getProperties;\nexports.getPropertyByInscricao = getPropertyByInscricao;\nexports.updatePropertyState = updatePropertyState;\nexports.addProperty = addProperty;\nexports.addInterest = addInterest;\n\nvar _env = require(\"./env\");\n\nvar _mongodb = require(\"mongodb\");\n\nlet driver = new _mongodb.MongoClient(_env.MONGO_URL, {\n  useUnifiedTopology: true\n});\n\nasync function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nasync function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username: username,\n    password: password\n  };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nasync function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = {\n    username: username\n  };\n  const toUpdate = {\n    $set: {\n      password: newPassword\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nasync function getPropertyByInscricao(nrInscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.findOne({\n    nr_inscricao: nrInscricao\n  });\n  return !!property;\n}\n\nasync function updatePropertyState(nrInscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = {\n    nr_inscricao: nrInscricao\n  };\n  const toUpdate = {\n    $set: {\n      situacao: situacao\n    }\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nasync function addProperty(nrInscricao, img, endereco, tipo, nrDormitorios, nrBanheiros, nrVagas, valor) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n\n  if (!!getProperty(nrInscricao)) {\n    insert = await collection.insertOne({\n      nr_inscricao: nrInscricao,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: nrDormitorios,\n      nr_banheiros: nrBanheiros,\n      nr_vagas_garagem: nrVagas,\n      valor\n    });\n  }\n\n  return insert;\n}\n\nasync function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = await collection.find({\n      nome,\n      telefone\n    });\n\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = await collection.insertOne({\n        nr_inscricao,\n        nome: nome,\n        telefone: telefone\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbImRyaXZlciIsIk1vbmdvQ2xpZW50IiwiTU9OR09fVVJMIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdCIsImVyciIsImNvbm4iLCJjb25zb2xlIiwibG9nIiwiZGIiLCJsb2dpbiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJjb2xsZWN0aW9uIiwicXVlcnkiLCJ1c2VyIiwiZmluZE9uZSIsInJlc2V0IiwibmV3UGFzc3dvcmQiLCJ0b1VwZGF0ZSIsIiRzZXQiLCJ1cGRhdGVkIiwidXBkYXRlT25lIiwiZ2V0UHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJmaW5kIiwidG9BcnJheSIsImdldFByb3BlcnR5QnlJbnNjcmljYW8iLCJuckluc2NyaWNhbyIsInByb3BlcnR5IiwibnJfaW5zY3JpY2FvIiwidXBkYXRlUHJvcGVydHlTdGF0ZSIsInNpdHVhY2FvIiwiYWRkUHJvcGVydHkiLCJpbWciLCJlbmRlcmVjbyIsInRpcG8iLCJuckRvcm1pdG9yaW9zIiwibnJCYW5oZWlyb3MiLCJuclZhZ2FzIiwidmFsb3IiLCJpbnNlcnQiLCJnZXRQcm9wZXJ0eSIsImluc2VydE9uZSIsIm5yX2Rvcm1pdG9yaW9zIiwibnJfYmFuaGVpcm9zIiwibnJfdmFnYXNfZ2FyYWdlbSIsImFkZEludGVyZXN0Iiwibm9tZSIsInRlbGVmb25lIiwibGVuZ3RoIiwiaXRlbSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQSxJQUFJQSxNQUFNLEdBQUcsSUFBSUMsb0JBQUosQ0FBZ0JDLGNBQWhCLEVBQTJCO0FBQUVDLEVBQUFBLGtCQUFrQixFQUFFO0FBQXRCLENBQTNCLENBQWI7O0FBRU8sZUFBZUMsT0FBZixHQUF5QjtBQUM5QkosRUFBQUEsTUFBTSxDQUFDSSxPQUFQLENBQWUsQ0FBQ0MsR0FBRCxFQUFNQyxJQUFOLEtBQWU7QUFDNUIsUUFBSUQsR0FBSixFQUFTO0FBQ1BFLE1BQUFBLE9BQU8sQ0FBQ0MsR0FB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SUFKa0M7QUFLbENRLE1BQUFBLGNBQWMsRUFBRVAsYUFMa0I7QUFNbENRLE1BQUFBLFlBQVksRUFBRVAsV0FOb0I7QUFPbENRLE1BQUFBLGdCQUFnQixFQUFFUCxPQVBnQjtBQVFsQ0MsTUFBQUE7QUFSa0MsS0FBckIsQ0FBZjtBQVVEOztBQUNELFNBQU9DLE1BQVA7QUFDRDs7QUFFTSxlQUFlTSxXQUFmLENBQTJCakIsWUFBM0IsRUFBeUNrQixJQUF6QyxFQUErQ0MsUUFBL0MsRUFBeUQ7QUFDOUQsUUFBTXBCLFFBQVEsR0FBRyxNQUFNRixzQkFBc0IsQ0FBQ0csWUFBRCxDQUE3Qzs7QUFDQSxNQUFJRCxRQUFKLEVBQWM7QUFDWixVQUFNaEIsVUFBVSxHQUFHYixNQUFNLENBQUNhLFVBQVAsQ0FBa0IsVUFBbEIsQ0FBbkI7QUFDQSxVQUFNcUMsTUFBTSxHQUFHLE1BQU1yQyxVQUFVLENBQUNZLElBQVgsQ0FBZ0I7QUFBRXVCLE1BQUFBLElBQUY7QUFBUUMsTUFBQUE7QUFBUixLQUFoQixDQUFyQjs7QUFDQSxRQUFJQyxNQUFNLEdBQUcsQ0FBYixFQUFnQjtBQUNkLGFBQU8sMkRBQVA7QUFDRCxLQUZELE1BRU87QUFDTCxZQUFNQyxJQUFJLEdBQUcsTUFBTXRDLFVBQVUsQ0FBQzhCLFNBQVgsQ0FBcUI7QUFDdENiLFFBQUFBLFlBRHNDO0FBRXRDa0IsUUFBQUEsSUFBSSxFQUFFQSxJQUZnQztBQUd0Q0MsUUFBQUEsUUFBUSxFQUFFQTtBQUg0QixPQUFyQixDQUFuQjtBQUtBLGFBQU9FLElBQVA7QUFDRDtBQUNGLEdBYkQsTUFhTztBQUNMLFdBQU8seUJBQVA7QUFDRDtBQUNGIiwic291cmNlUm9vdCI6Ii9ob21lL2d1c3Rhdm9tb3Nlci9jb21wdXRhY2FvLzIwLjEvd2ViL3RyYWJhbGhvL3dlYi1wcm9wZXJ0eS1yZW50YWwvYmFja2VuZC9zcmMvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTU9OR09fVVJMIH0gZnJvbSBcIi4vZW52XCI7XG5pbXBvcnQgeyBNb25nb0NsaWVudCB9IGZyb20gXCJtb25nb2RiXCI7XG5sZXQgZHJpdmVyID0gbmV3IE1vbmdvQ2xpZW50KE1PTkdPX1VSTCwgeyB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUgfSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb25uZWN0KCkge1xuICBkcml2ZXIuY29ubmVjdCgoZXJyLCBjb25uKSA9PiB7XG4gICAgaWYgKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICB9XG4gICAgZHJpdmVyID0gY29ubi5kYihcIldFQl9QUk9QRVJUWV9SRU5UQUxcIik7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBkcml2ZXIuY29sbGVjdGlvbihcInVzZXJcIik7XG4gIGNvbnN0IHF1ZXJ5ID0geyB1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZCB9O1xuICBjb25zdCB1c2VyID0gYXdhaXQgY29sbGVjdGlvbi5maW5kT25lKHF1ZXJ5KTtcbiAgcmV0dXJuIHVzZXI7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZXNldCh1c2VybmFtZSwgbmV3UGFzc3dvcmQpIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwidXNlclwiKTtcbiAgY29uc3QgcXVlcnkgPSB7IHVzZXJuYW1lOiB1c2VybmFtZSB9O1xuICBjb25zdCB0b1VwZGF0ZSA9IHtcbiAgICAkc2V0OiB7IHBhc3N3b3JkOiBuZXdQYXNzd29yZCB9LFxuICB9O1xuICBjb25zdCB1cGRhdGVkID0gYXdhaXQgY29sbGVjdGlvbi51cGRhdGVPbmUocXVlcnksIHRvVXBkYXRlKTtcbiAgcmV0dXJuIHVwZGF0ZWQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9wZXJ0aWVzKCkge1xuICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJwcm9wZXJ0eVwiKTtcbiAgY29uc3QgcHJvcGVydGllcyA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZCgpLnRvQXJyYXkoKTtcbiAgcmV0dXJuIHByb3BlcnRpZXM7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9wZXJ0eUJ5SW5zY3JpY2FvKG5ySW5zY3JpY2FvKSB7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSBkcml2ZXIuY29sbGVjdGlvbihcInByb3BlcnR5XCIpO1xuICBjb25zdCBwcm9wZXJ0eSA9IGF3YWl0IGNvbGxlY3Rpb24uZmluZE9uZSh7IG5yX2luc2NyaWNhbzogbnJJbnNjcmljYW8gfSk7XG4gIHJldHVybiAhIXByb3BlcnR5O1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlUHJvcGVydHlTdGF0ZShuckluc2NyaWNhbywgc2l0dWFjYW8pIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwicHJvcGVydHlcIik7XG4gIGNvbnN0IHF1ZXJ5ID0geyBucl9pbnNjcmljYW86IG5ySW5zY3JpY2FvIH07XG4gIGNvbnN0IHRvVXBkYXRlID0ge1xuICAgICRzZXQ6IHsgc2l0dWFjYW86IHNpdHVhY2FvIH0sXG4gIH07XG4gIGNvbnN0IHVwZGF0ZWQgPSBhd2FpdCBjb2xsZWN0aW9uLnVwZGF0ZU9uZShxdWVyeSwgdG9VcGRhdGUpO1xuICByZXR1cm4gdXBkYXRlZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFkZFByb3BlcnR5KFxuICBuckluc2NyaWNhbyxcbiAgaW1nLFxuICBlbmRlcmVjbyxcbiAgdGlwbyxcbiAgbnJEb3JtaXRvcmlvcyxcbiAgbnJCYW5oZWlyb3MsXG4gIG5yVmFnYXMsXG4gIHZhbG9yXG4pIHtcbiAgY29uc3QgY29sbGVjdGlvbiA9IGRyaXZlci5jb2xsZWN0aW9uKFwicHJvcGVydHlcIik7XG4gIGxldCBpbnNlcnQgPSBudWxsO1xuICBpZiAoISFnZXRQcm9wZXJ0eShuckluc2NyaWNhbykpIHtcbiAgICBpbnNlcnQgPSBhd2FpdCBjb2xsZWN0aW9uLmluc2VydE9uZSh7XG4gICAgICBucl9pbnNjcmljYW86IG5ySW5zY3JpY2FvLFxuICAgICAgaW1nLFxuICAgICAgZW5kZXJlY28sXG4gICAgICB0aXBvLFxuICAgICAgbnJfZG9ybWl0b3Jpb3M6IG5yRG9ybWl0b3Jpb3MsXG4gICAgICBucl9iYW5oZWlyb3M6IG5yQmFuaGVpcm9zLFxuICAgICAgbnJfdmFnYXNfZ2FyYWdlbTogbnJWYWdhcyxcbiAgICAgIHZhbG9yLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBpbnNlcnQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhZGRJbnRlcmVzdChucl9pbnNjcmljYW8sIG5vbWUsIHRlbGVmb25lKSB7XG4gIGNvbnN0IHByb3BlcnR5ID0gYXdhaXQgZ2V0UHJvcGVydHlCeUluc2NyaWNhbyhucl9pbnNjcmljYW8pO1xuICBpZiAocHJvcGVydHkpIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uID0gZHJpdmVyLmNvbGxlY3Rpb24oXCJpbnRlcmVzdFwiKTtcbiAgICBjb25zdCBsZW5ndGggPSBhd2FpdCBjb2xsZWN0aW9uLmZpbmQoeyBub21lLCB0ZWxlZm9uZSB9KTtcbiAgICBpZiAobGVuZ3RoID4gMykge1xuICAgICAgcmV0dXJuIFwiVm9jw6ogYXRpbmdpdSBvIG7Dum1lcm8gbcOheGltbyBkZSByZXF1aXNpw6fDtWVzIGRlIGludGVyZXNzZS5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgaXRlbSA9IGF3YWl0IGNvbGxlY3Rpb24uaW5zZXJ0T25lKHtcbiAgICAgICAgbnJfaW5zY3JpY2FvLFxuICAgICAgICBub21lOiBub21lLFxuICAgICAgICB0ZWxlZm9uZTogdGVsZWZvbmUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gXCJFc3RlIGltw7N2ZWwgbsOjbyBleGlzdGUuXCI7XG4gIH1cbn1cbiJdfQ==",
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "driver",
        "MongoClient",
        "MONGO_URL",
        "useUnifiedTopology",
        "connect",
        "err",
        "conn",
        "console",
        "log",
        "db",
        "login",
        "username",
        "password",
        "collection",
        "query",
        "user",
        "findOne",
        "reset",
        "newPassword",
        "toUpdate",
        "$set",
        "updated",
        "updateOne",
        "getProperties",
        "properties",
        "find",
        "toArray",
        "getPropertyByInscricao",
        "nrInscricao",
        "property",
        "nr_inscricao",
        "updatePropertyState",
        "situacao",
        "addProperty",
        "img",
        "endereco",
        "tipo",
        "nrDormitorios",
        "nrBanheiros",
        "nrVagas",
        "valor",
        "insert",
        "getProperty",
        "insertOne",
        "nr_dormitorios",
        "nr_banheiros",
        "nr_vagas_garagem",
        "addInterest",
        "nome",
        "telefone",
        "length",
        "item"
      ],
      "mappings": "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",
      "sourceRoot": "/home/gustavomoser/computacao/20.1/web/trabalho/web-property-rental/backend/src/",
      "sourcesContent": [
        "import { MONGO_URL } from \"./env\";\nimport { MongoClient } from \"mongodb\";\nlet driver = new MongoClient(MONGO_URL, { useUnifiedTopology: true });\n\nexport async function connect() {\n  driver.connect((err, conn) => {\n    if (err) {\n      console.log(err);\n    }\n    driver = conn.db(\"WEB_PROPERTY_RENTAL\");\n  });\n}\n\nexport async function login(username, password) {\n  const collection = driver.collection(\"user\");\n  const query = { username: username, password: password };\n  const user = await collection.findOne(query);\n  return user;\n}\n\nexport async function reset(username, newPassword) {\n  const collection = driver.collection(\"user\");\n  const query = { username: username };\n  const toUpdate = {\n    $set: { password: newPassword },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function getProperties() {\n  const collection = driver.collection(\"property\");\n  const properties = await collection.find().toArray();\n  return properties;\n}\n\nexport async function getPropertyByInscricao(nrInscricao) {\n  const collection = driver.collection(\"property\");\n  const property = await collection.findOne({ nr_inscricao: nrInscricao });\n  return !!property;\n}\n\nexport async function updatePropertyState(nrInscricao, situacao) {\n  const collection = driver.collection(\"property\");\n  const query = { nr_inscricao: nrInscricao };\n  const toUpdate = {\n    $set: { situacao: situacao },\n  };\n  const updated = await collection.updateOne(query, toUpdate);\n  return updated;\n}\n\nexport async function addProperty(\n  nrInscricao,\n  img,\n  endereco,\n  tipo,\n  nrDormitorios,\n  nrBanheiros,\n  nrVagas,\n  valor\n) {\n  const collection = driver.collection(\"property\");\n  let insert = null;\n  if (!!getProperty(nrInscricao)) {\n    insert = await collection.insertOne({\n      nr_inscricao: nrInscricao,\n      img,\n      endereco,\n      tipo,\n      nr_dormitorios: nrDormitorios,\n      nr_banheiros: nrBanheiros,\n      nr_vagas_garagem: nrVagas,\n      valor,\n    });\n  }\n  return insert;\n}\n\nexport async function addInterest(nr_inscricao, nome, telefone) {\n  const property = await getPropertyByInscricao(nr_inscricao);\n  if (property) {\n    const collection = driver.collection(\"interest\");\n    const length = await collection.find({ nome, telefone });\n    if (length > 3) {\n      return \"Você atingiu o número máximo de requisições de interesse.\";\n    } else {\n      const item = await collection.insertOne({\n        nr_inscricao,\n        nome: nome,\n        telefone: telefone,\n      });\n      return item;\n    }\n  } else {\n    return \"Este imóvel não existe.\";\n  }\n}\n"
      ]
    },
    "sourceType": "script",
    "mtime": 1607208548430
  }
}